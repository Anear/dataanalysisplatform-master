(function(t,e,n){function r(j,b,f){var g,k=j.runtimeStyle&&j.runtimeStyle[b],h=j.style;return !/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(f)&&/^-?\d/.test(f)&&(g=h.left,k&&(j.runtimeStyle.left=j.currentStyle.left),h.left="fontSize"===b?"1em":f||0,f=h.pixelLeft+"px",h.left=g,k&&(j.runtimeStyle.left=k)),/^(thin|medium|thick)$/i.test(f)?f:Math.round(parseFloat(f))+"px"}function a(b){return parseInt(b,10)}function o(g,f,h,b){if(g=(g||"").split(","),g=g[b||0]||g[0]||"auto",g=u.Util.trimText(g).split(" "),"backgroundSize"!==h||g[0]&&!g[0].match(/cover|contain|auto/)){if(g[0]=-1===g[0].indexOf("%")?r(f,h+"X",g[0]):g[0],g[1]===n){if("backgroundSize"===h){return g[1]="auto",g}g[1]=g[0]}g[1]=-1===g[1].indexOf("%")?r(f,h+"Y",g[1]):g[1]}else{}return g}function i(p,b,j,v,q,k){var g,h,m,w,x=u.Util.getCSS(b,p,q);if(1===x.length&&(w=x[0],x=[],x[0]=w,x[1]=w),-1!==(""+x[0]).indexOf("%")){m=parseFloat(x[0])/100,h=j.width*m,"backgroundSize"!==p&&(h-=(k||v).width*m)}else{if("backgroundSize"===p){if("auto"===x[0]){h=v.width}else{if(/contain|cover/.test(x[0])){var f=u.Util.resizeBounds(v.width,v.height,j.width,j.height,x[0]);h=f.width,g=f.height}else{h=parseInt(x[0],10)}}}else{h=parseInt(x[0],10)}}return"auto"===x[1]?g=h/v.width*v.height:-1!==(""+x[1]).indexOf("%")?(m=parseFloat(x[1])/100,g=j.height*m,"backgroundSize"!==p&&(g-=(k||v).height*m)):g=parseInt(x[1],10),[h,g]}function l(b,g){var f=[];return{storage:f,width:b,height:g,clip:function(){f.push({type:"function",name:"clip",arguments:arguments})},translate:function(){f.push({type:"function",name:"translate",arguments:arguments})},fill:function(){f.push({type:"function",name:"fill",arguments:arguments})},save:function(){f.push({type:"function",name:"save",arguments:arguments})},restore:function(){f.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){f.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){f.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var h=[];return f.push({type:"function",name:"drawShape",arguments:h}),{moveTo:function(){h.push({name:"moveTo",arguments:arguments})},lineTo:function(){h.push({name:"lineTo",arguments:arguments})},arcTo:function(){h.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){h.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){h.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){f.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){f.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(j,h){return f.push({type:"variable",name:j,arguments:h}),h}}}function s(b){return{zindex:b,children:[]}}var c,d,u={};u.Util={},u.Util.log=function(b){u.logging&&t.console&&t.console.log&&t.console.log(b)},u.Util.trimText=function(b){return function(f){return b?b.apply(f):((f||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),u.Util.asFloat=function(b){return parseFloat(b)},function(){var b=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,f=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;u.Util.parseTextShadows=function(h){if(!h||"none"===h){return[]}for(var g=h.match(b),m=[],j=0;g&&g.length>j;j++){var k=g[j].match(f);m.push({color:k[0],offsetX:k[1]?k[1].replace("px",""):0,offsetY:k[2]?k[2].replace("px",""):0,blur:k[3]?k[3].replace("px",""):0})}return m}}(),u.Util.parseBackgroundImage=function(k){var O,g,q,v,h,b,f,j,w=" \r\n	",x=[],p=0,R=0,P=function(){O&&('"'===g.substr(0,1)&&(g=g.substr(1,g.length-2)),g&&j.push(g),"-"===O.substr(0,1)&&(v=O.indexOf("-",1)+1)>0&&(q=O.substr(0,v),O=O.substr(v)),x.push({prefix:q,method:O.toLowerCase(),value:h,args:j})),j=[],O=q=g=h=""};P();for(var m=0,Q=k.length;Q>m;m++){if(b=k[m],!(0===p&&w.indexOf(b)>-1)){switch(b){case'"':f?f===b&&(f=null):f=b;break;case"(":if(f){break}if(0===p){p=1,h+=b;continue}R++;break;case")":if(f){break}if(1===p){if(0===R){p=0,h+=b,P();continue}R--}break;case",":if(f){break}if(0===p){P();continue}if(1===p&&0===R&&!O.match(/^url$/i)){j.push(g),g="",h+=b;continue}}h+=b,0===p?O+=b:g+=b}}return P(),x},u.Util.Bounds=function(b){var g,f={};return b.getBoundingClientRect&&(g=b.getBoundingClientRect(),f.top=g.top,f.bottom=g.bottom||g.top+g.height,f.left=g.left,f.width=b.offsetWidth,f.height=b.offsetHeight),f},u.Util.OffsetBounds=function(b){var f=b.offsetParent?u.Util.OffsetBounds(b.offsetParent):{top:0,left:0};return{top:b.offsetTop+f.top,bottom:b.offsetTop+b.offsetHeight+f.top,left:b.offsetLeft+f.left,width:b.offsetWidth,height:b.offsetHeight}},u.Util.getCSS=function(h,g,f){c!==h&&(d=e.defaultView.getComputedStyle(h,null));var j=d[g];if(/^background(Size|Position)$/.test(g)){return o(j,h,g,f)}if(/border(Top|Bottom)(Left|Right)Radius/.test(g)){var b=j.split(" ");return 1>=b.length&&(b[1]=b[0]),b.map(a)}return j},u.Util.resizeBounds=function(f,h,q,k,g){var j,m,p=q/k,b=f/h;return g&&"auto"!==g?b>p^"contain"===g?(m=k,j=k*b):(j=q,m=q/b):(j=q,m=k),{width:j,height:m}},u.Util.BackgroundPosition=function(j,b,f,g,k){var h=i("backgroundPosition",j,b,f,g,k);return{left:h[0],top:h[1]}},u.Util.BackgroundSize=function(h,b,g,f){var j=i("backgroundSize",h,b,g,f);return{width:j[0],height:j[1]}},u.Util.Extend=function(b,g){for(var f in b){b.hasOwnProperty(f)&&(g[f]=b[f])}return g},u.Util.Children=function(b){var f;try{f=b.nodeName&&"IFRAME"===b.nodeName.toUpperCase()?b.contentDocument||b.contentWindow.document:function(j){var h=[];return null!==j&&function(m,v){var k=m.length,q=0;if("number"==typeof v.length){for(var p=v.length;p>q;q++){m[k++]=v[q]}}else{for(;v[q]!==n;){m[k++]=v[q++]}}return m.length=k,m}(h,j),h}(b.childNodes)}catch(g){u.Util.log("html2canvas.Util.Children failed with exception: "+g.message),f=[]}return f},u.Util.isTransparent=function(b){return"transparent"===b||"rgba(0, 0, 0, 0)"===b},u.Util.Font=function(){var b={};return function(j,k,f){if(b[j+"-"+k]!==n){return b[j+"-"+k]}var v,m,p,q=f.createElement("div"),g=f.createElement("img"),h=f.createElement("span"),w="Hidden Text";return q.style.visibility="hidden",q.style.fontFamily=j,q.style.fontSize=k,q.style.margin=0,q.style.padding=0,f.body.appendChild(q),g.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",g.width=1,g.height=1,g.style.margin=0,g.style.padding=0,g.style.verticalAlign="baseline",h.style.fontFamily=j,h.style.fontSize=k,h.style.margin=0,h.style.padding=0,h.appendChild(f.createTextNode(w)),q.appendChild(h),q.appendChild(g),v=g.offsetTop-h.offsetTop+1,q.removeChild(h),q.appendChild(f.createTextNode(w)),q.style.lineHeight="normal",g.style.verticalAlign="super",m=g.offsetTop-q.offsetTop+1,p={baseline:v,lineWidth:1,middle:m},b[j+"-"+k]=p,f.body.removeChild(q),p}}(),function(){function g(j){return function(m){try{j.addColorStop(m.stop,m.color)}catch(k){b.log(["failed to add color stop: ",k,"; tried to add: ",m])}}}var b=u.Util,f={};u.Generate=f;var h=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];f.parseGradient=function(x,Q){var p,N,q,k,m,v,O,P,M,j,R,w,S=h.length;for(N=0;S>N&&!(q=x.match(h[N]));N+=1){}if(q){switch(q[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(p={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},m=q[2].match(/\w+/g)){for(v=m.length,N=0;v>N;N+=1){switch(m[N]){case"top":p.y0=0,p.y1=Q.height;break;case"right":p.x0=Q.width,p.x1=0;break;case"bottom":p.y0=Q.height,p.y1=0;break;case"left":p.x0=0,p.x1=Q.width}}}if(null===p.x0&&null===p.x1&&(p.x0=p.x1=Q.width/2),null===p.y0&&null===p.y1&&(p.y0=p.y1=Q.height/2),m=q[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g)){for(v=m.length,O=1/Math.max(v-1,1),N=0;v>N;N+=1){P=m[N].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),P[2]?(k=parseFloat(P[2]),k/="%"===P[3]?100:Q.width):k=N*O,p.colorStops.push({color:P[1],stop:k})}}break;case"-webkit-gradient":if(p={type:"radial"===q[2]?"circle":q[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},m=q[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),m&&(p.x0=m[1]*Q.width/100,p.y0=m[2]*Q.height/100,p.x1=m[3]*Q.width/100,p.y1=m[4]*Q.height/100),m=q[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g)){for(v=m.length,N=0;v>N;N+=1){P=m[N].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),k=parseFloat(P[2]),"from"===P[1]&&(k=0),"to"===P[1]&&(k=1),p.colorStops.push({color:P[3],stop:k})}}break;case"-moz-linear-gradient":if(p={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},m=q[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),m&&(p.x0=m[1]*Q.width/100,p.y0=m[2]*Q.height/100,p.x1=Q.width-p.x0,p.y1=Q.height-p.y0),m=q[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g)){for(v=m.length,O=1/Math.max(v-1,1),N=0;v>N;N+=1){P=m[N].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),P[2]?(k=parseFloat(P[2]),P[3]&&(k/=100)):k=N*O,p.colorStops.push({color:P[1],stop:k})}}break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(p={type:"circle",x0:0,y0:0,x1:Q.width,y1:Q.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},m=q[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),m&&(p.cx=m[1]*Q.width/100,p.cy=m[2]*Q.height/100),m=q[3].match(/\w+/),P=q[4].match(/[a-z\-]*/),m&&P){switch(P[0]){case"farthest-corner":case"cover":case"":M=Math.sqrt(Math.pow(p.cx,2)+Math.pow(p.cy,2)),j=Math.sqrt(Math.pow(p.cx,2)+Math.pow(p.y1-p.cy,2)),R=Math.sqrt(Math.pow(p.x1-p.cx,2)+Math.pow(p.y1-p.cy,2)),w=Math.sqrt(Math.pow(p.x1-p.cx,2)+Math.pow(p.cy,2)),p.rx=p.ry=Math.max(M,j,R,w);break;case"closest-corner":M=Math.sqrt(Math.pow(p.cx,2)+Math.pow(p.cy,2)),j=Math.sqrt(Math.pow(p.cx,2)+Math.pow(p.y1-p.cy,2)),R=Math.sqrt(Math.pow(p.x1-p.cx,2)+Math.pow(p.y1-p.cy,2)),w=Math.sqrt(Math.pow(p.x1-p.cx,2)+Math.pow(p.cy,2)),p.rx=p.ry=Math.min(M,j,R,w);break;case"farthest-side":"circle"===m[0]?p.rx=p.ry=Math.max(p.cx,p.cy,p.x1-p.cx,p.y1-p.cy):(p.type=m[0],p.rx=Math.max(p.cx,p.x1-p.cx),p.ry=Math.max(p.cy,p.y1-p.cy));break;case"closest-side":case"contain":"circle"===m[0]?p.rx=p.ry=Math.min(p.cx,p.cy,p.x1-p.cx,p.y1-p.cy):(p.type=m[0],p.rx=Math.min(p.cx,p.x1-p.cx),p.ry=Math.min(p.cy,p.y1-p.cy))}}if(m=q[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g)){for(v=m.length,O=1/Math.max(v-1,1),N=0;v>N;N+=1){P=m[N].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),P[2]?(k=parseFloat(P[2]),k/="%"===P[3]?100:Q.width):k=N*O,p.colorStops.push({color:P[1],stop:k})}}}}return p},f.Gradient=function(v,G){if(0!==G.width&&0!==G.height){var H,w,p=e.createElement("canvas"),q=p.getContext("2d");if(p.width=G.width,p.height=G.height,H=u.Generate.parseGradient(v,G)){switch(H.type){case"linear":w=q.createLinearGradient(H.x0,H.y0,H.x1,H.y1),H.colorStops.forEach(g(w)),q.fillStyle=w,q.fillRect(0,0,G.width,G.height);break;case"circle":w=q.createRadialGradient(H.cx,H.cy,0,H.cx,H.cy,H.rx),H.colorStops.forEach(g(w)),q.fillStyle=w,q.fillRect(0,0,G.width,G.height);break;case"ellipse":var x=e.createElement("canvas"),j=x.getContext("2d"),k=Math.max(H.rx,H.ry),m=2*k;x.width=x.height=m,w=j.createRadialGradient(H.rx,H.ry,0,H.rx,H.ry,k),H.colorStops.forEach(g(w)),j.fillStyle=w,j.fillRect(0,0,m,m),q.fillStyle=H.colorStops[H.colorStops.length-1].color,q.fillRect(0,0,p.width,p.height),q.drawImage(x,H.cx-H.rx,H.cy-H.ry,2*H.rx,2*H.ry)}}return p}},f.ListAlpha=function(k){var j,m="";do{j=k%26,m=String.fromCharCode(j+64)+m,k/=26}while(26*k>26);return m},f.ListRoman=function(p){var v,j=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],m=[1000,900,500,400,100,90,50,40,10,9,5,4,1],k="",q=j.length;if(0>=p||p>=4000){return p}for(v=0;q>v;v+=1){for(;p>=m[v];){p-=m[v],k+=j[v]}}return k}}(),u.Parse=function(Q,ak){function N(){return Math.max(Math.max(f.body.scrollWidth,f.documentElement.scrollWidth),Math.max(f.body.offsetWidth,f.documentElement.offsetWidth),Math.max(f.body.clientWidth,f.documentElement.clientWidth))}function ay(){return Math.max(Math.max(f.body.scrollHeight,f.documentElement.scrollHeight),Math.max(f.body.offsetHeight,f.documentElement.offsetHeight),Math.max(f.body.clientHeight,f.documentElement.clientHeight))}function ap(aA,aC){var aB=parseInt(ai(aA,aC),10);return isNaN(aB)?0:aB}function at(aD,aF,aA,aB,aE,aC){"transparent"!==aC&&(aD.setVariable("fillStyle",aC),aD.fillRect(aF,aA,aB,aE),ac+=1)}function aw(aA,aB,aC){return aA.length>0?aB+aC.toUpperCase():n}function au(aA,aB){switch(aB){case"lowercase":return aA.toLowerCase();case"capitalize":return aA.replace(/(^|\s|:|-|\(|\))([a-z])/g,aw);case"uppercase":return aA.toUpperCase();default:return aA}}function O(aA){return/^(normal|none|0px)$/.test(aA)}function av(aA,aC,aB,aD){null!==aA&&S.trimText(aA).length>0&&(aD.fillText(aA,aC,aB),ac+=1)}function M(aI,aC,aE,aA){var aG=!1,aD=ai(aC,"fontWeight"),aF=ai(aC,"fontFamily"),aH=ai(aC,"fontSize"),aB=S.parseTextShadows(ai(aC,"textShadow"));switch(parseInt(aD,10)){case 401:aD="bold";break;case 400:aD="normal"}return aI.setVariable("fillStyle",aA),aI.setVariable("font",[ai(aC,"fontStyle"),ai(aC,"fontVariant"),aD,aH,aF].join(" ")),aI.setVariable("textAlign",aG?"right":"left"),aB.length&&(aI.setVariable("shadowColor",aB[0].color),aI.setVariable("shadowOffsetX",aB[0].offsetX),aI.setVariable("shadowOffsetY",aB[0].offsetY),aI.setVariable("shadowBlur",aB[0].blur)),"none"!==aE?S.Font(aF,aH,f):n}function W(aC,aB,aE,aA,aD){switch(aB){case"underline":at(aC,aE.left,Math.round(aE.top+aA.baseline+aA.lineWidth),aE.width,1,aD);break;case"overline":at(aC,aE.left,Math.round(aE.top),aE.width,1,aD);break;case"line-through":at(aC,aE.left,Math.ceil(aE.top+aA.middle+aA.lineWidth),aE.width,1,aD)}}function an(aG,aA,aD,aC,aF){var aE;if(aM.rangeBounds&&!aF){("none"!==aD||0!==S.trimText(aA).length)&&(aE=T(aA,aG.node,aG.textOffset)),aG.textOffset+=aA.length}else{if(aG.node&&"string"==typeof aG.node.nodeValue){var aB=aC?aG.node.splitText(aA.length):null;aE=U(aG.node,aF),aG.node=aB}}return aE}function T(aA,aC,aB){var aD=f.createRange();return aD.setStart(aC,aB),aD.setEnd(aC,aB+aA.length),aD.getBoundingClientRect()}function U(aD,aF){var aA=aD.parentNode,aB=f.createElement("wrapper"),aE=aD.cloneNode(!0);aB.appendChild(aD.cloneNode(!0)),aA.replaceChild(aB,aD);var aC=aF?S.OffsetBounds(aB):S.Bounds(aB);return aA.replaceChild(aE,aB),aC}function R(aI,aB,aE){var aG,aF,aC=aE.ctx,aD=ai(aI,"color"),aH=ai(aI,"textDecoration"),aJ=ai(aI,"textAlign"),aA={node:aB,textOffset:0};S.trimText(aB.nodeValue).length>0&&(aB.nodeValue=au(aB.nodeValue,ai(aI,"textTransform")),aJ=aJ.replace(["-webkit-auto"],["auto"]),aF=!ak.letterRendering&&/^(left|right|justify|auto)$/.test(aJ)&&O(ai(aI,"letterSpacing"))?aB.nodeValue.split(/(\b| )/):aB.nodeValue.split(""),aG=M(aC,aI,aH,aD),ak.chinese&&aF.forEach(function(aO,aN){/.*[\u4E00-\u9FA5].*$/.test(aO)&&(aO=aO.split(""),aO.unshift(aN,1),aF.splice.apply(aF,aO))}),aF.forEach(function(aO,aN){var aP=an(aA,aO,aH,aF.length-1>aN,aE.transform.matrix);aP&&(av(aO,aP.left,aP.bottom,aC),W(aC,aH,aP,aG,aD))}))}function L(aC,aB){var aE,aA,aD=f.createElement("boundelement");return aD.style.display="inline",aE=aC.style.listStyleType,aC.style.listStyleType="none",aD.appendChild(f.createTextNode(aB)),aC.insertBefore(aD,aC.firstChild),aA=S.Bounds(aD),aC.removeChild(aD),aC.style.listStyleType=aE,aA}function g(aA){var aC=-1,aB=1,aD=aA.parentNode.childNodes;if(aA.parentNode){for(;aD[++aC]!==aA;){1===aD[aC].nodeType&&aB++}return aB}return -1}function G(aA,aC){var aB,aD=g(aA);switch(aC){case"decimal":aB=aD;break;case"decimal-leading-zero":aB=1===(""+aD).length?aD="0"+(""+aD):""+aD;break;case"upper-roman":aB=u.Generate.ListRoman(aD);break;case"lower-roman":aB=u.Generate.ListRoman(aD).toLowerCase();break;case"lower-alpha":aB=u.Generate.ListAlpha(aD).toLowerCase();break;case"upper-alpha":aB=u.Generate.ListAlpha(aD)}return aB+". "}function F(aE,aH,aB){var aA,aD,aC,aG=aH.ctx,aF=ai(aE,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(aF)){if(aD=G(aE,aF),aC=L(aE,aD),M(aG,aE,"none",ai(aE,"color")),"inside"!==ai(aE,"listStylePosition")){return}aG.setVariable("textAlign","left"),aA=aB.left,av(aD,aA,aC.bottom,aG)}}function z(aA){var aB=Q[aA];return aB&&aB.succeeded===!0?aB.img:!1}function E(aD,aF){var aA=Math.max(aD.left,aF.left),aB=Math.max(aD.top,aF.top),aE=Math.min(aD.left+aD.width,aF.left+aF.width),aC=Math.min(aD.top+aD.height,aF.top+aF.height);return{left:aA,top:aB,width:aE-aA,height:aC-aB}}function k(aE,aH,aB){var aA,aD="static"!==aH.cssPosition,aC=aD?ai(aE,"zIndex"):"auto",aG=ai(aE,"opacity"),aF="none"!==ai(aE,"cssFloat");aH.zIndex=aA=s(aC),aA.isPositioned=aD,aA.isFloated=aF,aA.opacity=aG,aA.ownStacking="auto"!==aC||1>aG,aB&&aB.zIndex.children.push(aH)}function v(aA,aC,aH,aF,aB){var aE=ap(aC,"paddingLeft"),aD=ap(aC,"paddingTop"),aG=ap(aC,"paddingRight"),aI=ap(aC,"paddingBottom");ad(aA,aH,0,0,aH.width,aH.height,aF.left+aE+aB[3].width,aF.top+aD+aB[0].width,aF.width-(aB[1].width+aB[3].width+aE+aG),aF.height-(aB[0].width+aB[2].width+aD+aI))}function y(aA){return["Top","Right","Bottom","Left"].map(function(aB){return{width:ap(aA,"border"+aB+"Width"),color:ai(aA,"border"+aB+"Color")}})}function B(aA){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(aB){return ai(aA,"border"+aB+"Radius")})}function X(aC,aB,aE,aA){var aD=function(aF,aG,aH){return{x:aF.x+(aG.x-aF.x)*aH,y:aF.y+(aG.y-aF.y)*aH}};return{start:aC,startControl:aB,endControl:aE,end:aA,subdivide:function(aN){var aJ=aD(aC,aB,aN),aG=aD(aB,aE,aN),aF=aD(aE,aA,aN),aI=aD(aJ,aG,aN),aO=aD(aG,aF,aN),aH=aD(aI,aO,aN);return[X(aC,aJ,aI,aH),X(aH,aO,aF,aA)]},curveTo:function(aF){aF.push(["bezierCurve",aB.x,aB.y,aE.x,aE.y,aA.x,aA.y])},curveToReversed:function(aF){aF.push(["bezierCurve",aE.x,aE.y,aB.x,aB.y,aC.x,aC.y])}}}function aj(aG,aA,aD,aC,aF,aE,aB){aA[0]>0||aA[1]>0?(aG.push(["line",aC[0].start.x,aC[0].start.y]),aC[0].curveTo(aG),aC[1].curveTo(aG)):aG.push(["line",aE,aB]),(aD[0]>0||aD[1]>0)&&aG.push(["line",aF[0].start.x,aF[0].start.y])}function b(aE,aH,aB,aA,aD,aC,aG){var aF=[];return aH[0]>0||aH[1]>0?(aF.push(["line",aA[1].start.x,aA[1].start.y]),aA[1].curveTo(aF)):aF.push(["line",aE.c1[0],aE.c1[1]]),aB[0]>0||aB[1]>0?(aF.push(["line",aC[0].start.x,aC[0].start.y]),aC[0].curveTo(aF),aF.push(["line",aG[0].end.x,aG[0].end.y]),aG[0].curveToReversed(aF)):(aF.push(["line",aE.c2[0],aE.c2[1]]),aF.push(["line",aE.c3[0],aE.c3[1]])),aH[0]>0||aH[1]>0?(aF.push(["line",aD[1].end.x,aD[1].end.y]),aD[1].curveToReversed(aF)):aF.push(["line",aE.c4[0],aE.c4[1]]),aF}function H(aU,aE,aP){var aS=aU.left,aA=aU.top,aQ=aU.width,aJ=aU.height,aN=aE[0][0],aT=aE[0][1],aC=aE[1][0],aD=aE[1][1],aV=aE[2][0],aI=aE[2][1],aF=aE[3][0],aR=aE[3][1],aG=aQ-aC,aO=aJ-aI,aH=aQ-aV,aB=aJ-aR;return{topLeftOuter:aq(aS,aA,aN,aT).topLeft.subdivide(0.5),topLeftInner:aq(aS+aP[3].width,aA+aP[0].width,Math.max(0,aN-aP[3].width),Math.max(0,aT-aP[0].width)).topLeft.subdivide(0.5),topRightOuter:aq(aS+aG,aA,aC,aD).topRight.subdivide(0.5),topRightInner:aq(aS+Math.min(aG,aQ+aP[3].width),aA+aP[0].width,aG>aQ+aP[3].width?0:aC-aP[3].width,aD-aP[0].width).topRight.subdivide(0.5),bottomRightOuter:aq(aS+aH,aA+aO,aV,aI).bottomRight.subdivide(0.5),bottomRightInner:aq(aS+Math.min(aH,aQ+aP[3].width),aA+Math.min(aO,aJ+aP[0].width),Math.max(0,aV-aP[1].width),Math.max(0,aI-aP[2].width)).bottomRight.subdivide(0.5),bottomLeftOuter:aq(aS,aA+aB,aF,aR).bottomLeft.subdivide(0.5),bottomLeftInner:aq(aS+aP[3].width,aA+aB,Math.max(0,aF-aP[3].width),Math.max(0,aR-aP[2].width)).bottomLeft.subdivide(0.5)}}function A(aG,aA,aD,aC,aF){var aE=ai(aG,"backgroundClip"),aB=[];switch(aE){case"content-box":case"padding-box":aj(aB,aC[0],aC[1],aA.topLeftInner,aA.topRightInner,aF.left+aD[3].width,aF.top+aD[0].width),aj(aB,aC[1],aC[2],aA.topRightInner,aA.bottomRightInner,aF.left+aF.width-aD[1].width,aF.top+aD[0].width),aj(aB,aC[2],aC[3],aA.bottomRightInner,aA.bottomLeftInner,aF.left+aF.width-aD[1].width,aF.top+aF.height-aD[2].width),aj(aB,aC[3],aC[0],aA.bottomLeftInner,aA.topLeftInner,aF.left+aD[3].width,aF.top+aF.height-aD[2].width);break;default:aj(aB,aC[0],aC[1],aA.topLeftOuter,aA.topRightOuter,aF.left,aF.top),aj(aB,aC[1],aC[2],aA.topRightOuter,aA.bottomRightOuter,aF.left+aF.width,aF.top),aj(aB,aC[2],aC[3],aA.bottomRightOuter,aA.bottomLeftOuter,aF.left+aF.width,aF.top+aF.height),aj(aB,aC[3],aC[0],aA.bottomLeftOuter,aA.topLeftOuter,aF.left,aF.top+aF.height)}return aB}function C(aF,aP,aC){var aI,aJ,aD,aA,aB,aE,aN=aP.left,aO=aP.top,aH=aP.width,aS=aP.height,aQ=B(aF),aG=H(aP,aQ,aC),aR={clip:A(aF,aG,aC,aQ,aP),borders:[]};for(aI=0;4>aI;aI++){if(aC[aI].width>0){switch(aJ=aN,aD=aO,aA=aH,aB=aS-aC[2].width,aI){case 0:aB=aC[0].width,aE=b({c1:[aJ,aD],c2:[aJ+aA,aD],c3:[aJ+aA-aC[1].width,aD+aB],c4:[aJ+aC[3].width,aD+aB]},aQ[0],aQ[1],aG.topLeftOuter,aG.topLeftInner,aG.topRightOuter,aG.topRightInner);break;case 1:aJ=aN+aH-aC[1].width,aA=aC[1].width,aE=b({c1:[aJ+aA,aD],c2:[aJ+aA,aD+aB+aC[2].width],c3:[aJ,aD+aB],c4:[aJ,aD+aC[0].width]},aQ[1],aQ[2],aG.topRightOuter,aG.topRightInner,aG.bottomRightOuter,aG.bottomRightInner);break;case 2:aD=aD+aS-aC[2].width,aB=aC[2].width,aE=b({c1:[aJ+aA,aD+aB],c2:[aJ,aD+aB],c3:[aJ+aC[3].width,aD],c4:[aJ+aA-aC[3].width,aD]},aQ[2],aQ[3],aG.bottomRightOuter,aG.bottomRightInner,aG.bottomLeftOuter,aG.bottomLeftInner);break;case 3:aA=aC[3].width,aE=b({c1:[aJ,aD+aB+aC[2].width],c2:[aJ,aD],c3:[aJ+aA,aD+aC[0].width],c4:[aJ+aA,aD+aB]},aQ[3],aQ[0],aG.bottomLeftOuter,aG.bottomLeftInner,aG.topLeftOuter,aG.topLeftInner)}aR.borders.push({args:aE,color:aC[aI].color})}}return aR}function m(aA,aC){var aB=aA.drawShape();return aC.forEach(function(aD,aE){aB[0===aE?"moveTo":aD[0]+"To"].apply(null,aD.slice(1))}),aB}function J(aA,aC,aB){"transparent"!==aB&&(aA.setVariable("fillStyle",aB),m(aA,aC),aA.fill(),ac+=1)}function h(aG,aA,aD){var aC,aF,aE=f.createElement("valuewrap"),aB=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];aB.forEach(function(aH){try{aE.style[aH]=ai(aG,aH)}catch(aI){S.log("html2canvas: Parse: Exception caught in renderFormValue: "+aI.message)}}),aE.style.borderColor="black",aE.style.borderStyle="solid",aE.style.display="block",aE.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(aG.type)||"SELECT"===aG.nodeName)&&(aE.style.lineHeight=ai(aG,"height")),aE.style.top=aA.top+"px",aE.style.left=aA.left+"px",aC="SELECT"===aG.nodeName?(aG.options[aG.selectedIndex]||0).text:aG.value,aC||(aC=aG.placeholder),aF=f.createTextNode(aC),aE.appendChild(aF),ag.appendChild(aE),R(aG,aF,aD),ag.removeChild(aE)}function ad(aA){aA.drawImage.apply(aA,Array.prototype.slice.call(arguments,1)),ac+=1}function p(aD,aA){var aC=t.getComputedStyle(aD,aA);if(aC&&aC.content&&"none"!==aC.content&&"-moz-alt-content"!==aC.content&&"none"!==aC.display){var aG=aC.content+"",aF=aG.substr(0,1);aF===aG.substr(aG.length-1)&&aF.match(/'|"/)&&(aG=aG.substr(1,aG.length-2));var aE="url"===aG.substr(0,3),aB=e.createElement(aE?"img":"span");return aB.className=ah+"-before "+ah+"-after",Object.keys(aC).filter(am).forEach(function(aH){try{aB.style[aH]=aC[aH]}catch(aI){S.log(["Tried to assign readonly property ",aH,"Error:",aI])}}),aE?aB.src=S.parseBackgroundImage(aG)[0].args[0]:aB.innerHTML=aG,aB}}function am(aA){return isNaN(t.parseInt(aA,10))}function q(aA,aC){var aB=p(aA,":before"),aD=p(aA,":after");(aB||aD)&&(aB&&(aA.className+=" "+ah+"-before",aA.parentNode.insertBefore(aB,aA),Y(aB,aC,!0),aA.parentNode.removeChild(aB),aA.className=aA.className.replace(ah+"-before","").trim()),aD&&(aA.className+=" "+ah+"-after",aA.appendChild(aD),Y(aD,aC,!0),aA.removeChild(aD),aA.className=aA.className.replace(ah+"-after","").trim()))}function K(aD,aF,aA,aB){var aE=Math.round(aB.left+aA.left),aC=Math.round(aB.top+aA.top);aD.createPattern(aF),aD.translate(aE,aC),aD.fill(),aD.translate(-aE,-aC)}function P(aA,aC,aH,aF,aB,aE,aD,aG){var aI=[];aI.push(["line",Math.round(aB),Math.round(aE)]),aI.push(["line",Math.round(aB+aD),Math.round(aE)]),aI.push(["line",Math.round(aB+aD),Math.round(aG+aE)]),aI.push(["line",Math.round(aB),Math.round(aG+aE)]),m(aA,aI),aA.save(),aA.clip(),K(aA,aC,aH,aF),aA.restore()}function ar(aA,aC,aB){at(aA,aC.left,aC.top,aC.width,aC.height,aB)}function aL(aE,aH,aB,aA,aD){var aC=S.BackgroundSize(aE,aH,aA,aD),aG=S.BackgroundPosition(aE,aH,aA,aD,aC),aF=ai(aE,"backgroundRepeat").split(",").map(S.trimText);switch(aA=D(aA,aC),aF=aF[aD]||aF[0]){case"repeat-x":P(aB,aA,aG,aH,aH.left,aH.top+aG.top,99999,aA.height);break;case"repeat-y":P(aB,aA,aG,aH,aH.left+aG.left,aH.top,aA.width,99999);break;case"no-repeat":P(aB,aA,aG,aH,aH.left+aG.left,aH.top+aG.top,aA.width,aA.height);break;default:K(aB,aA,aG,{top:aH.top,left:aH.left,width:aA.width,height:aA.height})}}function ax(aE,aH,aB){for(var aA,aD=ai(aE,"backgroundImage"),aC=S.parseBackgroundImage(aD),aG=aC.length;aG--;){if(aD=aC[aG],aD.args&&0!==aD.args.length){var aF="url"===aD.method?aD.args[0]:aD.value;aA=z(aF),aA?aL(aE,aH,aB,aA,aG):S.log("html2canvas: Error loading background:",aD)}}}function D(aA,aC){if(aA.width===aC.width&&aA.height===aC.height){return aA}var aB,aD=f.createElement("canvas");return aD.width=aC.width,aD.height=aC.height,aB=aD.getContext("2d"),ad(aB,aA,0,0,aA.width,aA.height,0,0,aC.width,aC.height),aD}function w(aA,aC,aB){return aA.setVariable("globalAlpha",ai(aC,"opacity")*(aB?aB.opacity:1))}function x(aA){return aA.replace("px","")}function az(aC){var aB=ai(aC,"transform")||ai(aC,"-webkit-transform")||ai(aC,"-moz-transform")||ai(aC,"-ms-transform")||ai(aC,"-o-transform"),aE=ai(aC,"transform-origin")||ai(aC,"-webkit-transform-origin")||ai(aC,"-moz-transform-origin")||ai(aC,"-ms-transform-origin")||ai(aC,"-o-transform-origin")||"0px 0px";aE=aE.split(" ").map(x).map(S.asFloat);var aA;if(aB&&"none"!==aB){var aD=aB.match(I);if(aD){switch(aD[1]){case"matrix":aA=aD[2].split(",").map(S.trimText).map(S.asFloat)}}}return{origin:aE,matrix:aA}}function ao(aA,aE,aD,aB){var aC=l(aE?aD.width:N(),aE?aD.height:ay()),aF={ctx:aC,opacity:w(aC,aA,aE),cssPosition:ai(aA,"position"),borders:y(aA),transform:aB,clip:aE&&aE.clip?S.Extend({},aE.clip):null};return k(aA,aF,aE),ak.useOverflow===!0&&/(hidden|scroll|auto)/.test(ai(aA,"overflow"))===!0&&/(BODY)/i.test(aA.nodeName)===!1&&(aF.clip=aF.clip?E(aF.clip,aD):aD),aF}function al(aA,aC,aB){var aD={left:aC.left+aA[3].width,top:aC.top+aA[0].width,width:aC.width-(aA[1].width+aA[3].width),height:aC.height-(aA[0].width+aA[2].width)};return aB&&(aD=E(aD,aB)),aD}function aK(aA,aC){var aB=aC.matrix?S.OffsetBounds(aA):S.Bounds(aA);return aC.origin[0]+=aB.left,aC.origin[1]+=aB.top,aB}function V(aH,aP,aD,aG){var aJ,aE=az(aH,aP),aB=aK(aH,aE),aC=ao(aH,aP,aB,aE),aF=aC.borders,aN=aC.ctx,aO=al(aF,aB,aC.clip),aI=C(aH,aB,aF),aA=ab.test(aH.nodeName)?"#efefef":ai(aH,"backgroundColor");switch(m(aN,aI.clip),aN.save(),aN.clip(),aO.height>0&&aO.width>0&&!aG?(ar(aN,aB,aA),ax(aH,aO,aN)):aG&&(aC.backgroundColor=aA),aN.restore(),aI.borders.forEach(function(aQ){J(aN,aQ.args,aQ.color)}),aD||q(aH,aC),aH.nodeName){case"IMG":(aJ=z(aH.getAttribute("src")))?v(aN,aH,aJ,aB,aF):S.log("html2canvas: Error loading <img>:"+aH.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(aH.type)&&(aH.value||aH.placeholder||"").length>0&&h(aH,aB,aC);break;case"TEXTAREA":(aH.value||aH.placeholder||"").length>0&&h(aH,aB,aC);break;case"SELECT":(aH.options||aH.placeholder||"").length>0&&h(aH,aB,aC);break;case"LI":F(aH,aC,aO);break;case"CANVAS":v(aN,aH,aH,aB,aF)}return aC}function j(aA){return"none"!==ai(aA,"display")&&"hidden"!==ai(aA,"visibility")&&!aA.hasAttribute("data-html2canvas-ignore")}function Y(aA,aC,aB){j(aA)&&(aC=V(aA,aC,aB,!1)||aC,ab.test(aA.nodeName)||aa(aA,aC,aB))}function aa(aA,aC,aB){S.Children(aA).forEach(function(aD){aD.nodeType===aD.ELEMENT_NODE?Y(aD,aC,aB):aD.nodeType===aD.TEXT_NODE&&R(aA,aD,aC)})}function Z(){var aA=ai(e.documentElement,"backgroundColor"),aB=S.isTransparent(aA)&&af===e.body,aC=V(af,null,!1,aB);return aa(af,aC),aB&&(aA=aC.backgroundColor),ag.removeChild(ae),{backgroundColor:aA,stack:aC}}t.scroll(0,0);var af=ak.elements===n?e.body:ak.elements[0],ac=0,f=af.ownerDocument,S=u.Util,aM=S.Support(ak,f),ab=RegExp("("+ak.ignoreElements+")"),ag=f.body,ai=S.getCSS,ah="___html2canvas___pseudoelement",ae=f.createElement("style");ae.innerHTML="."+ah+'-before:before { content: "" !important; display: none !important; }.'+ah+'-after:after { content: "" !important; display: none !important; }',ag.appendChild(ae),Q=Q||{};var aq=function(aA){return function(aI,aC,aB,aF){var aE=aB*aA,aH=aF*aA,aG=aI+aB,aD=aC+aF;return{topLeft:X({x:aI,y:aD},{x:aI,y:aD-aH},{x:aG-aE,y:aC},{x:aG,y:aC}),topRight:X({x:aI,y:aC},{x:aI+aE,y:aC},{x:aG,y:aD-aH},{x:aG,y:aD}),bottomRight:X({x:aG,y:aC},{x:aG,y:aC+aH},{x:aI+aE,y:aD},{x:aI,y:aD}),bottomLeft:X({x:aG,y:aD},{x:aG-aE,y:aD},{x:aI,y:aC+aH},{x:aI,y:aC})}}}(4*((Math.sqrt(2)-1)/3)),I=/(matrix)\((.+)\)/;return Z()},u.Preload=function(M){function b(z){R.href=z,R.href=R.href;var A=R.protocol+R.host;return A===k}function y(){ab.log("html2canvas: start: images: "+aa.numLoaded+" / "+aa.numTotal+" (failed: "+aa.numFailed+")"),!aa.firstRun&&aa.numLoaded>=aa.numTotal&&(ab.log("Finished loading images: # "+aa.numTotal+" (failed: "+aa.numFailed+")"),"function"==typeof M.complete&&M.complete(aa))}function p(D,B,z){var A,F,E=M.proxy;R.href=D,D=R.href,A="html2canvas_"+Z++,z.callbackname=A,E+=E.indexOf("?")>-1?"&":"?",E+="url="+encodeURIComponent(D)+"&callback="+A,F=S.createElement("script"),t[A]=function(H){"error:"===H.substring(0,6)?(z.succeeded=!1,aa.numLoaded++,aa.numFailed++,y()):(C(B,z),B.src=H),t[A]=n;try{delete t[A]}catch(G){}F.parentNode.removeChild(F),F=null,delete z.script,delete z.callbackname},F.setAttribute("type","text/javascript"),F.setAttribute("src",E),z.script=F,t.document.body.appendChild(F)}function v(A,z){var B=t.getComputedStyle(A,z),D=B.content;"url"===D.substr(0,3)&&x.loadImage(u.Util.parseBackgroundImage(D)[0].args[0]),m(B.backgroundImage,A)}function Y(z){v(z,":before"),v(z,":after")}function g(z,A){var B=u.Generate.Gradient(z,A);B!==n&&(aa[z]={img:B,succeeded:!0},aa.numTotal++,aa.numLoaded++,y())}function h(z){return z&&z.method&&z.args&&z.args.length>0}function m(z,A){var B;u.Util.parseBackgroundImage(z).filter(h).forEach(function(D){"url"===D.method?x.loadImage(D.args[0]):D.method.match(/\-?gradient$/)&&(B===n&&(B=u.Util.Bounds(A)),g(D.value,B))})}function j(B){var z=!1;try{ab.Children(B).forEach(j)}catch(A){}try{z=B.nodeType}catch(D){z=!1,ab.log("html2canvas: failed to access some element's nodeType - Exception: "+D.message)}if(1===z||z===n){Y(B);try{m(ab.getCSS(B,"backgroundImage"),B)}catch(A){ab.log("html2canvas: failed to get background-image - Exception: "+A.message)}m(B)}}function C(z,A){z.onload=function(){A.timer!==n&&t.clearTimeout(A.timer),aa.numLoaded++,A.succeeded=!0,z.onerror=z.onload=null,y()},z.onerror=function(){if("anonymous"===z.crossOrigin&&(t.clearTimeout(A.timer),M.proxy)){var B=z.src;return z=new Image,A.img=z,z.src=B,p(z.src,z,A),n}aa.numLoaded++,aa.numFailed++,A.succeeded=!1,z.onerror=z.onload=null,y()}}var k,x,w,f,aa={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},ab=u.Util,Z=0,q=M.elements[0]||e.body,S=q.ownerDocument,ad=q.getElementsByTagName("img"),ac=ad.length,R=S.createElement("a"),T=function(z){return z.crossOrigin!==n}(new Image);for(R.href=t.location.href,k=R.protocol+R.host,x={loadImage:function(z){var B,A;z&&aa[z]===n&&(B=new Image,z.match(/data:image\/.*;base64,/i)?(B.src=z.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),A=aa[z]={img:B},aa.numTotal++,C(B,A)):b(z)||M.allowTaint===!0?(A=aa[z]={img:B},aa.numTotal++,C(B,A),B.src=z):T&&!M.allowTaint&&M.useCORS?(B.crossOrigin="anonymous",A=aa[z]={img:B},aa.numTotal++,C(B,A),B.src=z):M.proxy&&(A=aa[z]={img:B},aa.numTotal++,p(z,B,A)))},cleanupDOM:function(B){var A,D;if(!aa.cleanupDone){B&&"string"==typeof B?ab.log("html2canvas: Cleanup because: "+B):ab.log("html2canvas: Cleanup after timeout: "+M.timeout+" ms.");for(D in aa){if(aa.hasOwnProperty(D)&&(A=aa[D],"object"==typeof A&&A.callbackname&&A.succeeded===n)){t[A.callbackname]=n;try{delete t[A.callbackname]}catch(z){}A.script&&A.script.parentNode&&(A.script.setAttribute("src","about:blank"),A.script.parentNode.removeChild(A.script)),aa.numLoaded++,aa.numFailed++,ab.log("html2canvas: Cleaned up failed img: '"+D+"' Steps: "+aa.numLoaded+" / "+aa.numTotal)}}t.stop!==n?t.stop():e.execCommand!==n&&e.execCommand("Stop",!1),e.close!==n&&e.close(),aa.cleanupDone=!0,B&&"string"==typeof B||y()}},renderingDone:function(){f&&t.clearTimeout(f)}},M.timeout>0&&(f=t.setTimeout(x.cleanupDOM,M.timeout)),ab.log("html2canvas: Preload starts: finding background-images"),aa.firstRun=!0,j(q),ab.log("html2canvas: Preload: Finding images"),w=0;ac>w;w+=1){x.loadImage(ad[w].getAttribute("src"))}return aa.firstRun=!1,ab.log("html2canvas: Preload: Done."),aa.numTotal===aa.numLoaded&&y(),x},u.Renderer=function(g,f){function h(p){function k(q){Object.keys(q).sort().forEach(function(E){var C=[],v=[],w=[],x=[];q[E].forEach(function(y){y.node.zIndex.isPositioned||1>y.node.zIndex.opacity?w.push(y):y.node.zIndex.isFloated?v.push(y):C.push(y)}),function D(y){y.forEach(function(z){x.push(z),z.children&&D(z.children)})}(C.concat(v,w)),x.forEach(function(y){y.context?k(y.context):j.push(y.node)})})}var m,j=[];return m=function(q){function w(M,K,N){var J="auto"===K.zIndex.zindex?0:Number(K.zIndex.zindex),y=M,I=K.zIndex.isPositioned,L=K.zIndex.isFloated,O={node:K},x=N;K.zIndex.ownStacking?(y=O.context={"!":[{node:K,children:[]}]},x=n):(I||L)&&(x=O.children=[]),0===J&&N?N.push(O):(M[J]||(M[J]=[]),M[J].push(O)),K.zIndex.children.forEach(function(z){w(y,z,x)})}var v={};return w(v,q),v}(p),k(m),j}function b(k){var j;if("string"==typeof f.renderer&&u.Renderer[k]!==n){j=u.Renderer[k](f)}else{if("function"!=typeof k){throw Error("Unknown renderer")}j=k(f)}if("function"!=typeof j){throw Error("Invalid renderer defined")}return j}return b(f.renderer)(g,f,e,h(g.stack),u)},u.Util.Support=function(g,b){function f(){var p=new Image,k=b.createElement("canvas"),m=k.getContext===n?!1:k.getContext("2d");if(m===!1){return !1}k.width=k.height=10,p.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{m.drawImage(p,0,0),k.toDataURL()}catch(j){return !1}return u.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function h(){var k,p,j,m,q=!1;return b.createRange&&(k=b.createRange(),k.getBoundingClientRect&&(p=b.createElement("boundtest"),p.style.height="123px",p.style.display="block",b.body.appendChild(p),k.selectNode(p),j=k.getBoundingClientRect(),m=j.height,123===m&&(q=!0),b.body.removeChild(p))),q}return{rangeBounds:h(),svgRendering:g.svgRendering&&f()}},t.html2canvas=function(f,g){f=f.length?f:[f];var h,j,b={logging:!1,elements:f,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return b=u.Util.Extend(g,b),u.logging=b.logging,b.complete=function(k){("function"!=typeof b.onpreloaded||b.onpreloaded(k)!==!1)&&(h=u.Parse(k,b),("function"!=typeof b.onparsed||b.onparsed(h)!==!1)&&(j=u.Renderer(h,b),"function"==typeof b.onrendered&&b.onrendered(j)))},t.setTimeout(function(){u.Preload(b)},0),{render:function(k,m){return u.Renderer(k,u.Util.Extend(m,b))},parse:function(k,m){return u.Parse(k,u.Util.Extend(m,b))},preload:function(k){return u.Preload(u.Util.Extend(k,b))},log:u.Util.log}},t.html2canvas.log=u.Util.log,t.html2canvas.Renderer={Canvas:n},u.Renderer.Canvas=function(b){function k(w,x){w.beginPath(),x.forEach(function(y){w[y.name].apply(w,y.arguments)}),w.closePath()}function f(w){if(-1===q.indexOf(w.arguments[0].src)){g.drawImage(w.arguments[0],0,0);try{g.getImageData(0,0,1,1)}catch(x){return v=p.createElement("canvas"),g=v.getContext("2d"),!1}q.push(w.arguments[0].src)}return !0}function j(w,x){switch(x.type){case"variable":w[x.name]=x.arguments;break;case"function":switch(x.name){case"createPattern":if(x.arguments[0].width>0&&x.arguments[0].height>0){try{w.fillStyle=w.createPattern(x.arguments[0],"repeat")}catch(y){h.log("html2canvas: Renderer: Error creating pattern",y.message)}}break;case"drawShape":k(w,x.arguments);break;case"drawImage":x.arguments[8]>0&&x.arguments[7]>0&&(!b.taintTest||b.taintTest&&f(x))&&w.drawImage.apply(w,x.arguments);break;default:w[x.name].apply(w,x.arguments)}}}b=b||{};var p=e,q=[],v=e.createElement("canvas"),g=v.getContext("2d"),h=u.Util,m=b.canvas||p.createElement("canvas");return function(z,D,y,B,N){var w,x,C,A=m.getContext("2d"),E=z.stack;return m.width=m.style.width=D.width||E.ctx.width,m.height=m.style.height=D.height||E.ctx.height,C=A.fillStyle,A.fillStyle=h.isTransparent(E.backgroundColor)&&D.background!==n?D.background:z.backgroundColor,A.fillRect(0,0,m.width,m.height),A.fillStyle=C,B.forEach(function(F){A.textBaseline="bottom",A.save(),F.transform.matrix&&(A.translate(F.transform.origin[0],F.transform.origin[1]),A.transform.apply(A,F.transform.matrix),A.translate(-F.transform.origin[0],-F.transform.origin[1])),F.clip&&(A.beginPath(),A.rect(F.clip.left,F.clip.top,F.clip.width,F.clip.height),A.clip()),F.ctx.storage&&F.ctx.storage.forEach(function(G){j(A,G)}),A.restore()}),h.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===D.elements.length&&"object"==typeof D.elements[0]&&"BODY"!==D.elements[0].nodeName?(x=N.Util.Bounds(D.elements[0]),w=y.createElement("canvas"),w.width=Math.ceil(x.width),w.height=Math.ceil(x.height),A=w.getContext("2d"),A.drawImage(m,x.left,x.top,x.width,x.height,0,0,x.width,x.height),m=null,w):m}}})(window,document);